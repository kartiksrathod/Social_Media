@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* LIGHT MODE - Clean, spacious, modern */
    --background: 0 0% 100%;
    --foreground: 0 0% 9%;

    /* Layered Surfaces */
    --surface-900: 0 0% 100%;      /* Main background */
    --surface-800: 0 0% 98%;       /* Elevated surfaces */
    --surface-700: 0 0% 96%;       /* Cards */
    --surface-600: 0 0% 94%;       /* Hover states */

    /* Cards */
    --card: 0 0% 100%;
    --card-foreground: 0 0% 9%;

    /* Popovers */
    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 9%;

    /* Primary - Refined Cyan Accent */
    --primary: 188 78% 50%;
    --primary-foreground: 0 0% 100%;

    /* Secondary - Neutral Gray */
    --secondary: 0 0% 96%;
    --secondary-foreground: 0 0% 9%;

    /* Text Hierarchy */
    --text-primary: 0 0% 9%;
    --text-secondary: 0 0% 35%;
    --text-muted: 0 0% 55%;

    /* Muted */
    --muted: 0 0% 96.5%;
    --muted-foreground: 0 0% 45%;

    /* Accent - Signature Cyan */
    --accent: 188 78% 50%;
    --accent-foreground: 0 0% 100%;

    /* Destructive */
    --destructive: 0 72% 51%;
    --destructive-foreground: 0 0% 98%;

    /* Borders - High Contrast */
    --border: 0 0% 88%;
    --border-strong: 0 0% 75%;
    --input: 0 0% 96%;
    --ring: 188 78% 50%;

    /* Radius */
    --radius: 0.75rem;
    
    /* Gradients - Soft and Subtle */
    --gradient-primary: linear-gradient(135deg, hsl(188 78% 50%), hsl(188 70% 60%));
    --gradient-surface: linear-gradient(180deg, hsl(0 0% 100%), hsl(0 0% 98%));
  }

  .dark {
    /* DARK PREMIUM - Refined luxury dark theme with signature cyan */
    
    /* Layered Surfaces - Natural depth hierarchy */
    --surface-900: 220 18% 8%;      /* Main background (deeper, richer) */
    --surface-800: 220 16% 11%;     /* Elevated surfaces */
    --surface-700: 220 14% 14%;     /* Cards */
    --surface-600: 220 12% 18%;     /* Hover states */

    --background: 220 18% 8%;
    --foreground: 0 0% 98%;

    /* Cards - Subtle depth */
    --card: 220 14% 14%;
    --card-foreground: 0 0% 98%;

    /* Popovers */
    --popover: 220 16% 11%;
    --popover-foreground: 0 0% 98%;

    /* Primary - Signature Refined Cyan (reduced saturation for sophistication) */
    --primary: 188 65% 55%;
    --primary-foreground: 220 18% 8%;

    /* Secondary - Neutral dark surface */
    --secondary: 220 14% 16%;
    --secondary-foreground: 0 0% 98%;

    /* Text Hierarchy - Clear readability */
    --text-primary: 0 0% 98%;
    --text-secondary: 0 0% 75%;
    --text-muted: 0 0% 55%;

    /* Muted */
    --muted: 220 14% 16%;
    --muted-foreground: 0 0% 65%;

    /* Accent - Signature Cyan (consistent with primary) */
    --accent: 188 65% 55%;
    --accent-foreground: 220 18% 8%;

    /* Destructive */
    --destructive: 0 70% 58%;
    --destructive-foreground: 0 0% 98%;

    /* Borders - Subtle but visible */
    --border: 220 14% 20%;
    --border-strong: 220 12% 28%;
    --input: 220 14% 16%;
    --ring: 188 65% 55%;
    
    /* Gradients - Soft, sophisticated */
    --gradient-primary: linear-gradient(135deg, hsl(188 65% 55%), hsl(188 60% 45%));
    --gradient-surface: linear-gradient(180deg, hsl(220 16% 11%), hsl(220 18% 8%));
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground font-sans;
  }
  
  /* Typography Utilities */
  h1, h2, h3, h4, h5, h6 {
    @apply font-heading tracking-tight;
  }
}

/* Custom Scrollbar - Dark Premium Style */
::-webkit-scrollbar {
  width: 8px;
}
::-webkit-scrollbar-track {
  @apply bg-transparent;
}
::-webkit-scrollbar-thumb {
  @apply bg-primary/30 rounded-full hover:bg-primary/50 transition-colors;
}

/* Dark Premium Enhancements - Refined & Subtle */
@layer utilities {
  /* Glow Effects - Small radius, sophisticated */
  .glow-primary {
    box-shadow: 0 0 12px rgba(0, 255, 255, 0.35);
  }
  
  .glow-primary-hover {
    box-shadow: 0 0 16px rgba(0, 255, 255, 0.45);
  }
  
  .glow-subtle {
    box-shadow: 0 0 6px rgba(0, 255, 255, 0.2);
  }
  
  /* Border Glow - Accent outlines only */
  .border-glow {
    border-color: hsl(var(--primary) / 0.6);
    box-shadow: 0 0 8px hsl(var(--primary) / 0.25);
  }
  
  .border-glow-strong {
    border-color: hsl(var(--primary));
    box-shadow: 0 0 12px hsl(var(--primary) / 0.35);
  }
  
  /* Focus Ring - Accessible and premium */
  .ring-glow {
    box-shadow: 0 0 0 3px hsl(var(--ring) / 0.3), 0 0 12px hsl(var(--ring) / 0.2);
  }
  
  /* ===== SHADOW SYSTEM - 3-Tier Elevation ===== */
  
  /* Level 1: Subtle Lift - Small elements, inputs */
  .shadow-sm-premium {
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08), 0 1px 2px rgba(0, 0, 0, 0.06);
  }
  
  .dark .shadow-sm-premium {
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.5), 0 1px 2px rgba(0, 0, 0, 0.4);
  }
  
  /* Level 2: Medium Elevation - Cards, buttons */
  .shadow-md-premium {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1), 0 2px 4px rgba(0, 0, 0, 0.08);
  }
  
  .dark .shadow-md-premium {
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.5), 0 3px 6px rgba(0, 0, 0, 0.4);
  }
  
  /* Level 3: Strong Elevation - Modals, popovers */
  .shadow-lg-premium {
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15), 0 4px 8px rgba(0, 0, 0, 0.12);
  }
  
  .dark .shadow-lg-premium {
    box-shadow: 0 12px 48px rgba(0, 0, 0, 0.7), 0 6px 12px rgba(0, 0, 0, 0.6);
  }
  
  /* Card Premium - Natural depth with subtle shadows */
  .card-premium {
    background: hsl(var(--card));
    border: 1px solid hsl(var(--border));
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.08);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  .dark .card-premium {
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.4), 0 2px 4px rgba(0, 0, 0, 0.3);
  }
  
  /* Card Hover - Subtle lift effect */
  .card-premium-hover {
    background: hsl(var(--card));
    border: 1px solid hsl(var(--border));
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.08);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  .card-premium-hover:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15), 0 4px 8px rgba(0, 0, 0, 0.1);
  }
  
  .dark .card-premium-hover {
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.4), 0 2px 4px rgba(0, 0, 0, 0.3);
  }
  
  .dark .card-premium-hover:hover {
    box-shadow: 0 12px 32px rgba(0, 0, 0, 0.6), 0 6px 12px rgba(0, 0, 0, 0.5);
  }
  
  /* Elevated Dropdown - For menus and popovers */
  .elevated-dropdown {
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12), 0 4px 8px rgba(0, 0, 0, 0.08);
    border: 1px solid hsl(var(--border));
  }
  
  .dark .elevated-dropdown {
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.6), 0 6px 12px rgba(0, 0, 0, 0.5);
  }
  
  /* Button - Primary with refined glow and elevation */
  .button-primary {
    background: hsl(var(--primary));
    color: hsl(var(--primary-foreground));
    box-shadow: 0 0 12px rgba(0, 255, 255, 0.35), 0 2px 8px rgba(0, 0, 0, 0.1);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  .button-primary:hover {
    box-shadow: 0 0 20px rgba(0, 255, 255, 0.5), 0 6px 16px rgba(0, 0, 0, 0.15);
    transform: translateY(-2px);
  }
  
  .button-primary:active {
    transform: translateY(0);
    box-shadow: 0 0 10px rgba(0, 255, 255, 0.3), 0 1px 4px rgba(0, 0, 0, 0.1);
  }
  
  .dark .button-primary {
    box-shadow: 0 0 16px rgba(0, 255, 255, 0.4), 0 4px 12px rgba(0, 0, 0, 0.4);
  }
  
  .dark .button-primary:hover {
    box-shadow: 0 0 24px rgba(0, 255, 255, 0.55), 0 8px 20px rgba(0, 0, 0, 0.5);
  }
  
  /* Floating Button - Extra elevation for FABs */
  .button-floating {
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15), 0 2px 8px rgba(0, 0, 0, 0.1);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  .button-floating:hover {
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2), 0 4px 12px rgba(0, 0, 0, 0.15);
    transform: translateY(-2px);
  }
  
  .dark .button-floating {
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.5), 0 3px 10px rgba(0, 0, 0, 0.4);
  }
  
  .dark .button-floating:hover {
    box-shadow: 0 10px 32px rgba(0, 0, 0, 0.6), 0 5px 16px rgba(0, 0, 0, 0.5);
  }
  
  /* Gradient Ring - Soft for stories */
  .gradient-ring {
    background: linear-gradient(135deg, hsl(var(--primary)), hsl(var(--primary) / 0.6));
    padding: 2px;
    border-radius: 9999px;
  }
  
  /* Surface Layers - Natural depth */
  .surface-900 { background: hsl(var(--surface-900)); }
  .surface-800 { background: hsl(var(--surface-800)); }
  .surface-700 { background: hsl(var(--surface-700)); }
  .surface-600 { background: hsl(var(--surface-600)); }
  
  /* Hover Accent - Icons and interactive elements */
  .hover-accent {
    transition: color 0.2s ease;
  }
  
  .hover-accent:hover {
    color: hsl(var(--primary));
  }
  
  /* Active State - Navigation and tabs */
  .active-accent {
    color: hsl(var(--primary));
    background: hsl(var(--primary) / 0.1);
    border-color: hsl(var(--primary) / 0.3);
  }
  
  /* Avatar Shadows - Subtle depth for profile pictures */
  .avatar-shadow {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1), 0 1px 3px rgba(0, 0, 0, 0.08);
  }
  
  .dark .avatar-shadow {
    box-shadow: 0 3px 12px rgba(0, 0, 0, 0.4), 0 2px 4px rgba(0, 0, 0, 0.3);
  }
  
  /* Input/Textarea Elevation on Focus */
  .input-elevated:focus {
    box-shadow: 0 0 0 3px hsl(var(--ring) / 0.3), 0 2px 8px rgba(0, 0, 0, 0.1);
  }
  
  .dark .input-elevated:focus {
    box-shadow: 0 0 0 3px hsl(var(--ring) / 0.3), 0 4px 12px rgba(0, 0, 0, 0.4);
  }
  
  /* Mobile Touch Improvements */
  .touch-target {
    min-height: 44px;
    min-width: 44px;
  }
  
  .touch-target-lg {
    min-height: 48px;
    min-width: 48px;
  }
  
  /* ===== SPACING SYSTEM - 8px Grid ===== */
  /* Base spacing utilities following 8px grid */
  
  /* Standard Card Padding */
  .card-padding {
    @apply p-4 sm:p-6;  /* 16px mobile, 24px desktop */
  }
  
  .card-padding-sm {
    @apply p-3 sm:p-4;  /* 12px mobile, 16px desktop */
  }
  
  .card-padding-lg {
    @apply p-6 sm:p-8;  /* 24px mobile, 32px desktop */
  }
  
  /* Content Spacing (vertical rhythm) */
  .content-spacing {
    @apply space-y-4;  /* 16px - standard content gaps */
  }
  
  .content-spacing-sm {
    @apply space-y-3;  /* 12px - tight content */
  }
  
  .content-spacing-lg {
    @apply space-y-6;  /* 24px - section spacing */
  }
  
  /* Section Spacing (between major sections) */
  .section-spacing {
    @apply space-y-6 sm:space-y-8;  /* 24px mobile, 32px desktop */
  }
  
  .section-spacing-sm {
    @apply space-y-4 sm:space-y-6;  /* 16px mobile, 24px desktop */
  }
  
  /* List Item Spacing */
  .list-spacing {
    @apply gap-4;  /* 16px between list items */
  }
  
  .list-spacing-sm {
    @apply gap-3;  /* 12px for compact lists */
  }
  
  .list-spacing-lg {
    @apply gap-6;  /* 24px for spacious lists */
  }
  
  /* Container Padding */
  .container-padding {
    @apply px-4 sm:px-6 lg:px-8;  /* Responsive horizontal padding */
  }
  
  .container-padding-y {
    @apply py-4 sm:py-6 lg:py-8;  /* Responsive vertical padding */
  }
  
  /* Comment Section Spacing */
  .comment-spacing {
    @apply space-y-4;  /* 16px between comments */
  }
  
  /* Profile Section Spacing */
  .profile-section-spacing {
    @apply space-y-6;  /* 24px between profile sections */
  }
  
  /* Mobile-optimized containers */
  .mobile-container {
    @apply px-4 sm:px-6 py-4 sm:py-6;
  }
  
  .mobile-card-spacing {
    @apply space-y-4 sm:space-y-5;
  }
  
  /* Safe area support for notched devices */
  .safe-area-top {
    padding-top: env(safe-area-inset-top);
  }
  
  .safe-area-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }
  
  .safe-area-inset-top {
    padding-top: max(1rem, env(safe-area-inset-top));
  }
  
  .safe-area-inset-bottom {
    padding-bottom: max(1rem, env(safe-area-inset-bottom));
  }
  
  /* Improved focus states for mobile */
  .focus-mobile:focus-visible {
    @apply ring-2 ring-primary ring-offset-2 outline-none;
  }
  
  /* Better tap feedback */
  .tap-feedback {
    @apply active:scale-95 transition-transform duration-100;
  }
  
  .tap-feedback-lg {
    @apply active:scale-[0.97] transition-transform duration-150;
  }
  
  /* Prevent text selection on buttons (better mobile UX) */
  .no-select {
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
  }
  
  /* Better text overflow handling */
  .text-overflow-safe {
    @apply break-words;
    overflow-wrap: anywhere;
  }
  
  /* Mobile input improvements */
  .input-mobile {
    @apply min-h-[48px] text-base;
    font-size: 16px; /* Prevents zoom on iOS */
  }
  
  .textarea-mobile {
    @apply min-h-[120px] text-base;
    font-size: 16px; /* Prevents zoom on iOS */
  }
  
  /* Smooth scrolling for mobile */
  .scroll-smooth-mobile {
    -webkit-overflow-scrolling: touch;
    scroll-behavior: smooth;
  }
  
  /* Hide scrollbar but keep functionality */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* Pull-to-refresh animations */
  @keyframes pull-rotate {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }

  .pull-rotate {
    animation: pull-rotate 1s ease-in-out;
  }

  /* Swipe action indicators */
  .swipe-action-left {
    @apply absolute left-0 top-0 bottom-0 flex items-center justify-start;
    background: linear-gradient(90deg, transparent, rgba(239, 68, 68, 0.1));
  }

  .swipe-action-right {
    @apply absolute right-0 top-0 bottom-0 flex items-center justify-end;
    background: linear-gradient(-90deg, transparent, rgba(59, 130, 246, 0.1));
  }

  /* Enhanced touch interactions */
  .touch-manipulation {
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
  }

  /* Long press indicator */
  @keyframes long-press {
    0% { transform: scale(1); }
    50% { transform: scale(0.95); }
    100% { transform: scale(1); }
  }

  .long-press-feedback {
    animation: long-press 0.3s ease-in-out;
  }

  /* Momentum scrolling enhancement */
  .momentum-scroll {
    -webkit-overflow-scrolling: touch;
    overflow-y: auto;
    overscroll-behavior-y: contain;
  }

  /* Prevent overscroll bounce on specific elements */
  .no-overscroll {
    overscroll-behavior: contain;
  }

  /* Better focus for keyboard navigation */
  .keyboard-focus:focus-visible {
    @apply outline-2 outline-primary outline-offset-2;
  }

  /* Skeleton loading animations */
  @keyframes skeleton-pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
  }

  .skeleton-pulse {
    animation: skeleton-pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }

  /* Smooth page transitions */
  .page-transition {
    animation: fadeIn 0.3s ease-in-out;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }

  /* Enhanced modal backdrop */
  .modal-backdrop {
    @apply fixed inset-0 bg-black/50 backdrop-blur-sm;
    animation: fadeIn 0.2s ease-out;
  }

  /* Floating action button shadow */
  .fab-shadow {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15), 0 2px 4px rgba(0, 0, 0, 0.1);
  }

  .dark .fab-shadow {
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.4), 0 2px 8px rgba(0, 0, 0, 0.2);
  }

  /* Improved card hover states */
  .card-interactive {
    @apply transition-all duration-200;
  }

  .card-interactive:hover {
    @apply shadow-lg -translate-y-0.5;
  }

  .card-interactive:active {
    @apply translate-y-0;
  }
}
